// schedule form time map
export const timesMap = [
  '00:00 -> 00:15',
  '00:15 -> 00:30',
  '00:30 -> 00:45',
  '00:45 -> 01:00',
  '01:00 -> 01:15',
  '01:15 -> 01:30',
  '01:30 -> 01:45',
  '01:45 -> 02:00',
  '02:00 -> 02:15',
  '02:15 -> 02:30',
  '02:30 -> 02:45',
  '02:45 -> 03:00',
  '03:00 -> 03:15',
  '03:15 -> 03:30',
  '03:30 -> 03:45',
  '03:45 -> 04:00',
  '04:00 -> 04:15',
  '04:15 -> 04:30',
  '04:30 -> 04:45',
  '04:45 -> 05:00',
  '05:00 -> 05:15',
  '05:15 -> 05:30',
  '05:30 -> 05:45',
  '05:45 -> 06:00',
  '06:00 -> 06:15',
  '06:15 -> 06:30',
  '06:30 -> 06:45',
  '06:45 -> 07:00',
  '07:00 -> 07:15',
  '07:15 -> 07:30',
  '07:30 -> 07:45',
  '07:45 -> 08:00',
  '08:00 -> 08:15',
  '08:15 -> 08:30',
  '08:30 -> 08:45',
  '08:45 -> 09:00',
  '09:00 -> 09:15',
  '09:15 -> 09:30',
  '09:30 -> 09:45',
  '09:45 -> 10:00',
  '10:00 -> 10:15',
  '10:15 -> 10:30',
  '10:30 -> 10:45',
  '10:45 -> 11:00',
  '11:00 -> 11:15',
  '11:15 -> 11:30',
  '11:30 -> 11:45',
  '11:45 -> 12:00',
  '12:00 -> 12:15',
  '12:15 -> 12:30',
  '12:30 -> 12:45',
  '12:45 -> 13:00',
  '13:00 -> 13:15',
  '13:15 -> 13:30',
  '13:30 -> 13:45',
  '13:45 -> 14:00',
  '14:00 -> 14:15',
  '14:15 -> 14:30',
  '14:30 -> 14:45',
  '14:45 -> 15:00',
  '15:00 -> 15:15',
  '15:15 -> 15:30',
  '15:30 -> 15:45',
  '15:45 -> 16:00',
  '16:00 -> 16:15',
  '16:15 -> 16:30',
  '16:30 -> 16:45',
  '16:45 -> 17:00',
  '17:00 -> 17:15',
  '17:15 -> 17:30',
  '17:30 -> 17:45',
  '17:45 -> 18:00',
  '18:00 -> 18:15',
  '18:15 -> 18:30',
  '18:30 -> 18:45',
  '18:45 -> 19:00',
  '19:00 -> 19:15',
  '19:15 -> 19:30',
  '19:30 -> 19:45',
  '19:45 -> 20:00',
  '20:00 -> 20:15',
  '20:15 -> 20:30',
  '20:30 -> 20:45',
  '20:45 -> 21:00',
  '21:00 -> 21:15',
  '21:15 -> 21:30',
  '21:30 -> 21:45',
  '21:45 -> 22:00',
  '22:00 -> 22:15',
  '22:15 -> 22:30',
  '22:30 -> 22:45',
  '22:45 -> 23:00',
  '23:00 -> 23:15',
  '23:15 -> 23:30',
  '23:30 -> 23:45',
  '23:45 -> 00:00',
]

// X軸時間列
export const timeLabels = [
  '00:00',
  '00:15',
  '00:30',
  '00:45',
  '01:00',
  '01:15',
  '01:30',
  '01:45',
  '02:00',
  '02:15',
  '02:30',
  '02:45',
  '03:00',
  '03:15',
  '03:30',
  '03:45',
  '04:00',
  '04:15',
  '04:30',
  '04:45',
  '05:00',
  '05:15',
  '05:30',
  '05:45',
  '06:00',
  '06:15',
  '06:30',
  '06:45',
  '07:00',
  '07:15',
  '07:30',
  '07:45',
  '08:00',
  '08:15',
  '08:30',
  '08:45',
  '09:00',
  '09:15',
  '09:30',
  '09:45',
  '10:00',
  '10:15',
  '10:30',
  '10:45',
  '11:00',
  '11:15',
  '11:30',
  '11:45',
  '12:00',
  '12:15',
  '12:30',
  '12:45',
  '13:00',
  '13:15',
  '13:30',
  '13:45',
  '14:00',
  '14:15',
  '14:30',
  '14:45',
  '15:00',
  '15:15',
  '15:30',
  '15:45',
  '16:00',
  '16:15',
  '16:30',
  '16:45',
  '17:00',
  '17:15',
  '17:30',
  '17:45',
  '18:00',
  '18:15',
  '18:30',
  '18:45',
  '19:00',
  '19:15',
  '19:30',
  '19:45',
  '20:00',
  '20:15',
  '20:30',
  '20:45',
  '21:00',
  '21:15',
  '21:30',
  '21:45',
  '22:00',
  '22:15',
  '22:30',
  '22:45',
  '23:00',
  '23:15',
  '23:30',
  '23:45',
]

// 充電時間映射
export const chargeTimeMap: { [key: string]: number } = {
  '2023-09-30T09:00:00+08:00': 36,
  '2023-09-30T09:15:00+08:00': 37,
  '2023-09-30T09:30:00+08:00': 38,
  '2023-09-30T09:45:00+08:00': 39,
  '2023-09-30T10:00:00+08:00': 40,
  '2023-09-30T10:15:00+08:00': 41,
  '2023-09-30T10:30:00+08:00': 42,
  '2023-09-30T10:45:00+08:00': 43,
  '2023-09-30T11:00:00+08:00': 44,
  '2023-09-30T11:15:00+08:00': 45,
  '2023-09-30T11:30:00+08:00': 46,
  '2023-09-30T11:45:00+08:00': 47,
  '2023-09-30T12:00:00+08:00': 48,
  '2023-09-30T12:15:00+08:00': 49,
  '2023-09-30T12:30:00+08:00': 50,
  '2023-09-30T12:45:00+08:00': 51,
  '2023-09-30T13:00:00+08:00': 52,
  '2023-09-30T13:15:00+08:00': 53,
  '2023-09-30T13:30:00+08:00': 54,
  '2023-09-30T13:45:00+08:00': 55,
  '2023-09-30T14:00:00+08:00': 56,
  '2023-09-30T14:15:00+08:00': 57,
}

// 放電時間映射與權重
export const dischargeTimeMap: {
  [key: string]: { index: number; weight: number }
} = {
  '2023-09-30T14:30:00+08:00': { index: 58, weight: 0.015 },
  '2023-09-30T14:45:00+08:00': { index: 59, weight: 0.018 },
  '2023-09-30T15:00:00+08:00': { index: 60, weight: 0.02 },
  '2023-09-30T15:15:00+08:00': { index: 61, weight: 0.025 },
  '2023-09-30T15:30:00+08:00': { index: 62, weight: 0.03 },
  '2023-09-30T15:45:00+08:00': { index: 63, weight: 0.035 },
  '2023-09-30T16:00:00+08:00': { index: 64, weight: 0.04 },
  '2023-09-30T16:15:00+08:00': { index: 65, weight: 0.042 },
  '2023-09-30T16:30:00+08:00': { index: 66, weight: 0.042 },
  '2023-09-30T16:45:00+08:00': { index: 67, weight: 0.042 },
  '2023-09-30T17:00:00+08:00': { index: 68, weight: 0.042 },
  '2023-09-30T17:15:00+08:00': { index: 69, weight: 0.042 },
  '2023-09-30T17:30:00+08:00': { index: 70, weight: 0.042 },
  '2023-09-30T17:45:00+08:00': { index: 71, weight: 0.042 },
  '2023-09-30T18:00:00+08:00': { index: 72, weight: 0.042 },
  '2023-09-30T18:15:00+08:00': { index: 73, weight: 0.042 },
  '2023-09-30T18:30:00+08:00': { index: 74, weight: 0.042 },
  '2023-09-30T18:45:00+08:00': { index: 75, weight: 0.042 },
  '2023-09-30T19:00:00+08:00': { index: 76, weight: 0.042 },
  '2023-09-30T19:15:00+08:00': { index: 77, weight: 0.042 },
  '2023-09-30T19:30:00+08:00': { index: 78, weight: 0.042 },
  '2023-09-30T19:45:00+08:00': { index: 79, weight: 0.042 },
  '2023-09-30T20:00:00+08:00': { index: 80, weight: 0.04 },
  '2023-09-30T20:15:00+08:00': { index: 81, weight: 0.035 },
  '2023-09-30T20:30:00+08:00': { index: 82, weight: 0.03 },
  '2023-09-30T20:45:00+08:00': { index: 83, weight: 0.025 },
  '2023-09-30T21:00:00+08:00': { index: 84, weight: 0.02 },
  '2023-09-30T21:15:00+08:00': { index: 85, weight: 0.015 },
  '2023-09-30T21:30:00+08:00': { index: 86, weight: 0.01 },
  '2023-09-30T21:45:00+08:00': { index: 87, weight: 0.005 },
  '2023-09-30T22:00:00+08:00': { index: 88, weight: 0.005 },
}

// 充電係數映射
export const chargeCoefficientMap: { [key: string]: number } = {
  '2023-09-30T09:00:00+08:00': 0.4,
  '2023-09-30T09:15:00+08:00': 0.81,
  '2023-09-30T09:30:00+08:00': 0.45,
  '2023-09-30T09:45:00+08:00': 0.41,
  '2023-09-30T10:00:00+08:00': 0.43,
  '2023-09-30T10:15:00+08:00': 0.64,
  '2023-09-30T10:30:00+08:00': 0.71,
  '2023-09-30T10:45:00+08:00': 0.54,
  '2023-09-30T11:00:00+08:00': 0.39,
  '2023-09-30T11:15:00+08:00': 0.36,
  '2023-09-30T11:30:00+08:00': 0.46,
  '2023-09-30T11:45:00+08:00': 0.49,
  '2023-09-30T12:00:00+08:00': 0.44,
  '2023-09-30T12:15:00+08:00': 0.45,
  '2023-09-30T12:30:00+08:00': 0.54,
  '2023-09-30T12:45:00+08:00': 0.97,
  '2023-09-30T13:00:00+08:00': 1.0,
  '2023-09-30T13:15:00+08:00': 0.76,
  '2023-09-30T13:30:00+08:00': 0.57,
  '2023-09-30T13:45:00+08:00': 0.55,
  '2023-09-30T14:00:00+08:00': 0.42,
  '2023-09-30T14:15:00+08:00': 0.34,
}

// 常量
export const MAX_SOC = 73.847
export const TARGET_SOC = 52.335
export const DISCHARGE_START_TIME = '2023-09-30T14:30:00+08:00'

// 工具函數
export const checkStatus = (currentTime: string) => {
  if (chargeTimeMap[currentTime]) {
    return 'charging'
  }
  if (dischargeTimeMap[currentTime]) {
    return 'discharging'
  }
  return 'idle'
}

// 計算充電量
export const calculateChargeEnergy = (pvRaw: number, coefficient: number) => {
  return (pvRaw * coefficient) / 1000
}

// 計算放電量
export const calculateDischargeEnergy = (accumulatedSoc: number, weight: number) => {
  return accumulatedSoc * weight
} 